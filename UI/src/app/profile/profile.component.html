<div class="main-container">
    <div class="header-container">
        <div class="header-item left-button-item">
            <button class="circle-button circle-button-s">
                <div class="circle-button-container">
                    <svg viewBox="0 0 24 24" width="20" height="20">
                        <path
                            d="M 20 11 H 7.414 l 4.293 -4.293 c 0.39 -0.39 0.39 -1.023 0 -1.414 s -1.023 -0.39 -1.414 0 l -6 6 c -0.39 0.39 -0.39 1.023 0 1.414 l 6 6 c 0.195 0.195 0.45 0.293 0.707 0.293 s 0.512 -0.098 0.707 -0.293 c 0.39 -0.39 0.39 -1.023 0 -1.414 L 7.414 13 H 20 c 0.553 0 1 -0.447 1 -1 s -0.447 -1 -1 -1 Z">
                        </path>
                    </svg>
                </div>
            </button>
        </div>
        <div class="header-item center-item">
            <div class="profile-name">
                {{profile?.profileName}}
            </div>
            <div class="tweets-amount">
                {{profile?.postsAmount}} {{profileStrings.tweets}}
            </div>
        </div>
        <div class="header-item right-button-item">
        </div>
    </div>

    <div class="profile-container">
        <div class="profile-background">
        </div>
        <div class="profile-card">
            <div class="profile-control">
                <div class="profile-image">
                    <div class="image-container">
                        <!-- TODO: display profile picture -->
                        <img src="{{profile?.profilePicturePath}}"
                            onerror="this.src='/assets/img/default_profile_img.png'" />
                    </div>
                </div>
                <div class="buttons">
                    <!-- TODO: display different buttons for owner of profile and readers -->
                    <div *ngIf="isAuthenticated">
                        <div *ngIf="!isCurrentUserOwner; else currentUserOwnerBlock">
                        <div class="button-container">
                            <button class="circle-button circle-button-s circle-button-border">
                                <div class="circle-button-container">
                                    <svg viewBox="0 0 24 24" width="20" height="20">
                                        <g>
                                            <circle cx="5" cy="12" r="2"></circle>
                                            <circle cx="12" cy="12" r="2"></circle>
                                            <circle cx="19" cy="12" r="2"></circle>
                                        </g>
                                    </svg>
                                </div>
                            </button>
                        </div>
                        <div class="button-container">
                            <button class="circle-button circle-button-s circle-button-border">
                                <div class="circle-button-container">
                                    <svg viewBox="0 0 24 24" width="20" height="20">
                                        <path
                                            d="M 19.25 3.018 H 4.75 C 3.233 3.018 2 4.252 2 5.77 v 12.495 c 0 1.518 1.233 2.753 2.75 2.753 h 14.5 c 1.517 0 2.75 -1.235 2.75 -2.753 V 5.77 c 0 -1.518 -1.233 -2.752 -2.75 -2.752 Z m -14.5 1.5 h 14.5 c 0.69 0 1.25 0.56 1.25 1.25 v 0.714 l -8.05 5.367 c -0.273 0.18 -0.626 0.182 -0.9 -0.002 L 3.5 6.482 v -0.714 c 0 -0.69 0.56 -1.25 1.25 -1.25 Z m 14.5 14.998 H 4.75 c -0.69 0 -1.25 -0.56 -1.25 -1.25 V 8.24 l 7.24 4.83 c 0.383 0.256 0.822 0.384 1.26 0.384 c 0.44 0 0.877 -0.128 1.26 -0.383 l 7.24 -4.83 v 10.022 c 0 0.69 -0.56 1.25 -1.25 1.25 Z">
                                        </path>
                                    </svg>
                                </div>
                            </button>
                        </div>
                        </div>
                        <ng-template #currentUserOwnerBlock>
                            <div>
                                <div class="button-container">
                                    <button mat-flat-button class="circle-button circle-button-s circle-button-border text-button">
                                        <div class="circle-button-container">
                                            <span class="button-text">
                                                {{profileStrings.card.setUp}}
                                            </span>
                                        </div>
                                    </button>
                                </div>
                            </div>
                        </ng-template>
                    </div>
                    <div *ngIf="!isCurrentUserOwner">
                        <div class="button-container">
                            <button mat-flat-button class="circle-button circle-button-s circle-button-black text-button">
                                <div class="circle-button-container">
                                    <span class="button-text">
                                        {{profileStrings.card.follow}}
                                    </span>
                                </div>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="profile-name">
                <span class="text">{{profile?.profileName}}</span>
            </div>
            <div class="profile-description">
                {{profile?.profileDescription}}
            </div>
            <div class="profile-follows">
                <span class="following">
                    <a routerLink="./" class="link link-gray">
                        <!-- TODO: add link to page with list of followings -->
                        <span><b>{{profile?.followingsAmount}}</b></span>
                        <span> {{profileStrings.card.following}}</span>
                    </a>
                </span>
                <span class="followers">
                    <a routerLink="./" class="link link-gray">
                        <!-- TODO: add link to page with list of followers -->
                        <span><b>{{profile?.followersAmount}}</b></span>
                        <span> {{profileStrings.card.followers}}</span>
                    </a>
                </span>
            </div>
        </div>
    </div>

    <mat-tab-group class="profile-tabs">
        <mat-tab label="{{profileStrings.tabLabels.tweets}}">
            <div *ngIf="profileIds != undefined && profileIds.length != 0">
                <app-feed-scroll [profileIds]="profileIds"></app-feed-scroll>
            </div>
        </mat-tab>
        <mat-tab label="{{profileStrings.tabLabels.tweetsAndReplies}}"> {{profileStrings.tabLabels.tweetsAndReplies}}
        </mat-tab> <!-- TODO: add feed with replies and posts -->
        <mat-tab label="{{profileStrings.tabLabels.media}}"> {{profileStrings.tabLabels.media}} </mat-tab>
        <!-- TODO: add feed with media posts -->
        <mat-tab label="{{profileStrings.tabLabels.likes}}"> {{profileStrings.tabLabels.likes}} </mat-tab>
        <!-- TODO: add feed with liked posts -->
    </mat-tab-group>
</div>